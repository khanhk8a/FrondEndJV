<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <pre>
        Bài toán thực tế :
        Tiền nước chia theo các mức
        Mức 1 : 0 - 10 mét khối ( giá 5000/ 1 m3)
        Mức 2 : 11 - 20 mét khối ( giá 8000/ 1 m3)
        Mức 3 : 21 - 50 mét khối ( giá 18000/ 1 m3)
        Mức 4 : trên 51 mét khối ( giá 23000/ 1 m3)
        Biết mỗi mét khối phí nước thải sẽ là 2000 đồng / 1 m3
        và tiền phí nước thải không lũy tiền
        Sau đó tiền nước + nước thải = tiền thanh toán trước thuế
        sau đó + 10% tiền thanh toán trước thuế của thuế GTGT
        => số tiền khách hàng phải thanh toán

        ví dụ :
        gia đình A dùng hết 2 m3 => ?
        gia đình b dùng hết 14 m3 => ?
        gia đình c dùng hết 26 m3 => ?
        gia đình d dùng hết 158 m3 => ?
    </pre>
    <p>Nhập số khôi nước:</p>
    <input id="sonuoc" value="" type="text">
    <button type="button" onclick="myfun()" >tinh tien</button>
    <p id="tongtien"></p>
    <script>

        var i; 
        var muc1 = 5000;
        var muc2 = 8000;
        var muc3 = 18000;
        var muc4 = 23000;
        var phiNuocThai = 2000;
        
        var han_muc_1 = 10;
        var han_muc_2 = 10;
        var han_muc_3 = 30;

         var  sttt1 = han_muc_1 * muc1;
         var  sttt2 = han_muc_2 * muc2;
         var  sttt3 = han_muc_3 * muc3;
         var  tthue = 0.1;
       
        function myfun(){
            i = document.getElementById('sonuoc').value;
            console.log(i);
            if ( i>= 0 &&  i <= 10) {
            thanhtoanMuc1();
           
            } else if ( i>= 11 && i<=20) {
                thanhtoanMuc2();
            }
            
            else if (i>= 21 && i<=50) {
                thanhtoanMuc3();
            }
            else if (i>50) {
                thanhtoanMuc4();
            }
            else {    
                document.getElementById('tongtien').innerHTML="Số bạn nhập vào không đúng";
            };
        }
        function thanhtoanMuc1(){
            var tienThue = ( i * muc1 + i * phiNuocThai ) * tthue;
            var sttt = ( i * muc1 + i * phiNuocThai ) +  tienThue;
            document.getElementById('tongtien').innerHTML="Số tiền bạn phải trả: " + sttt ;
        }
        function thanhtoanMuc2(){
            var tienthue1 =  (sttt1 + ((i - han_muc_1) * muc2) + i * phiNuocThai) * tthue;
            var thanhtoan2 = (sttt1 + ((i - han_muc_1) * muc2) + i * phiNuocThai) + tienthue1;
            document.getElementById('tongtien').innerHTML="Số tiền bạn phải trả: " + thanhtoan2 ;
        }
    
        function thanhtoanMuc3(){
            var tienthue2 =  (sttt1 + sttt2 + ((i - (han_muc_1+han_muc_2)) * muc3) + i * phiNuocThai) * tthue;
            var thanhtoan3 = (sttt1 + sttt2 + ((i - (han_muc_1+han_muc_2)) * muc3) + i * phiNuocThai) + tienthue2;
            document.getElementById('tongtien').innerHTML="Số tiền bạn phải trả: " + thanhtoan3 ;
        }
        function thanhtoanMuc4(){
            var tienthue3 =  (sttt1 + sttt2 + sttt3 +((i - (han_muc_1+han_muc_2+han_muc_3)) * muc4) + i * phiNuocThai) * tthue;
            var thanhtoan4 = (sttt1 + sttt2 + sttt3 + ((i - (han_muc_1+han_muc_2+han_muc_3)) * muc4) + i * phiNuocThai) + tienthue3;
            document.getElementById('tongtien').innerHTML="Số tiền bạn phải trả: " + thanhtoan4 ;
        }
        

    </script>
</body>
</html>